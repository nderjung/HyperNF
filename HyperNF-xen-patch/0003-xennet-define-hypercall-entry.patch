From f62e0946b4cc29e7d5a5896bbda54cef1fac21f9 Mon Sep 17 00:00:00 2001
From: Alexander Jung <a.jung@lancs.ac.uk>
Date: Thu, 15 Nov 2018 16:58:32 +0000
Subject: [PATCH] [PATCH 3/7] xennet: define hypercall entry

---
 xen/include/asm-x86/hypercall.h | 3 +++
 xen/include/public/xen.h        | 1 +
 2 files changed, 4 insertions(+)

diff --git a/xen/include/asm-x86/hypercall.h b/xen/include/asm-x86/hypercall.h
index da38b79..5baa0df 100644
--- a/xen/include/asm-x86/hypercall.h
+++ b/xen/include/asm-x86/hypercall.h
@@ -189,4 +189,7 @@ extern int compat_physdev_op_compat(XEN_GUEST_HANDLE(physdev_op_compat_t) uop);
 
 #endif /* CONFIG_COMPAT */
 
+extern long do_xennet_op(int cmd, XEN_GUEST_HANDLE_PARAM(void) uop, unsigned int count, unsigned int count2);
+
+
 #endif /* __ASM_X86_HYPERCALL_H__ */
diff --git a/xen/include/public/xen.h b/xen/include/public/xen.h
index fb1df8f..d856c05 100644
--- a/xen/include/public/xen.h
+++ b/xen/include/public/xen.h
@@ -121,6 +121,7 @@ DEFINE_XEN_GUEST_HANDLE(xen_ulong_t);
 #define __HYPERVISOR_xc_reserved_op       39 /* reserved for XenClient */
 #define __HYPERVISOR_xenpmu_op            40
 #define __HYPERVISOR_dm_op                41
+#define __HYPERVISOR_xennet_op            42
 
 /* Architecture-specific hypercall definitions. */
 #define __HYPERVISOR_arch_0               48
-- 
2.7.4

